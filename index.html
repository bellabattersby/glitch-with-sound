<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Simple example of audio with Howler</title>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.1/howler.min.js"
      integrity="sha512-L6Z/YtIPQ7eU3BProP34WGU5yIRk7tNHk7vaC2dB1Vy1atz6wl9mCkTPPZ2Rn1qPr+vY2mZ9odZLdGYuaBk7dQ=="
      crossorigin="anonymous"
    ></script>
    <meta name="description" content="A simple exercise template." />
    <!-- styles -->
    <style>
      div > div {
        transition-property: font-size letter-spacing;
        transition-duration: 60s;
      }
      .highlight {
        color: yellow;
        font-size: 2em;
        letter spacing: 20px;
        transform: rotate(360deg);
      }
    </style>
  </head>
  <body>
    <h1>ðŸ’¿ MELBOURNE PLAYLIST // ðŸ’¿</h1>
    <div>
      <div id="poem-line-0">Mac DeMarco - On the Square</div>
      <div id="poem-line-1">Michael Gray - The Weekend</div>
      <div id="poem-line-2">Skins Theme Song - Segal</div>
      <div id="poem-line-3">Amyl and the Sniffers - Guided by Angels</div>
    </div>
    <button id="play-sounds">CLICK HERE 2 HEAR</button>
    <!-- script -->
    <script>
      const currentPoem = [
        "https://cdn.glitch.com/c942f5f8-e4aa-4ee4-86bf-737ac032dfdd%2FMac%20Demarco%20-%20%20On%20The%20Square.mp3?v=1632484972657",
        "https://cdn.glitch.com/c942f5f8-e4aa-4ee4-86bf-737ac032dfdd%2FThe%20Weekend%20(Radio%20Edit).mp3?v=1632485318399",
        "https://cdn.glitch.com/c942f5f8-e4aa-4ee4-86bf-737ac032dfdd%2FSkins%20Theme%20Tune%20by%20Segal.mp3?v=1632484803455",
        "https://cdn.glitch.com/c942f5f8-e4aa-4ee4-86bf-737ac032dfdd%2FAmyl%20and%20the%20Sniffers%20-%20Guided%20By%20Angels.mp3?v=1632487280473",
      ];
      const button = document.getElementById("play-sounds");
      function readPoem(lineIndex) {
        let sound = new Howl({
          src: [currentPoem[lineIndex]],
          preload: true,
          onend: function() {
            if (lineIndex < currentPoem.length - 1) {
              readPoem(lineIndex + 1);
            }
            document
              .querySelector("#poem-line-" + lineIndex)
              .classList.toggle("highlight");
          }
        });
        document
          .querySelector("#poem-line-" + lineIndex)
          .classList.toggle("highlight");
        sound.play();
      }
      button.addEventListener("click", function() {
        readPoem(0);
      });
    </script>
    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix -->
    <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
    <script src="https://button.glitch.me/button.js" defer></script>
  </body>
</html>

 <style>
  body {
    font-family: "Fira Code", serif;
    margin: 2em;
    background-color: #5100F5;
    color: white;
    font-size: 1.2em;
  }
  h1 {
    color: #F5000F;
  }
</style>
